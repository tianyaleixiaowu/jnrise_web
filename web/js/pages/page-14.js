function getRequestSign(){var e=window.location.search;if(-1!=e.indexOf("?"))return e.substr(6)}function getRequest(){var e=window.location.search,n=new Object;if(-1!=e.indexOf("?"))for(var o=e.substr(1).split("&"),t=0;t<o.length;t++)o[t].split("=")[1].indexOf("%")<0?n[o[t].split("=")[0]]=unescape(o[t].split("=")[1]):n[o[t].split("=")[0]]=unescape(decodeURI(o[t].split("=")[1]));return n}function checkPhone(e){return!!/^1\d{10}$/.test(e)}$(function(){var e=getRequestSign();$.ajax({type:"POST",url:"https://mm.jnrise.cn:88/loading/server/enter",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sign:e},dataType:"json",success:function(e){console.log(e)},error:function(e){console.log(e)}}),$("#submit").click(function(){var n=$.trim($("#phone").val()),o=$.trim($("#is-old").val()),t=!0;""==n?(t=!1,$("#phone").parent(".form-item").addClass("error").find(".message").html("请输入您的手机号码获取六一专属试听课")):checkPhone(n)?$("#phone").parent(".form-item").removeClass("error"):(t=!1,$("#phone").parent(".form-item").addClass("error").find(".message").html("请输入有效的11位电话号码")),""==o?(t=!1,$("#is-old").parent(".form-item").addClass("error")):$("#is-old").parent(".form-item").removeClass("error"),t&&$.ajax({type:"POST",url:"https://mm.jnrise.cn:88/loading/server/info",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{phone:n,name:name,age:0,gender:0,school:"",inRead:o,sign:e},dataType:"json",success:function(e){console.log(e),$(".modal").show(),$(".main .form-text").val("")},error:function(e){console.log(e)}})}),$(".modal").click(function(){$(this).hide()}),$("#is-old").focus(function(){$(this).find("option[value='']").hide()}),$("#is-old").blur(function(){$(this).find("option[value='']").show()})});